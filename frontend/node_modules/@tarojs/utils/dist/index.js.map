{"version":3,"file":"index.js","sources":["../src/shallow-equal.js","../src/simple-map.js","../src/index.js"],"sourcesContent":["/* eslint-disable */\nconst objectIs = Object.is || function (x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y\n  }\n  return x !== x && y !== y\n}\n\nexport default function shallowEqual (obj1, obj2) {\n  if (typeof obj1 !== 'object' && typeof obj2 !== 'object') {\n    return obj1 === obj2\n  }\n\n  if (obj1 === null && obj2 === null) {\n    return true\n  }\n  if (obj1 === null || obj2 === null) {\n    return false\n  }\n  if (objectIs(obj1, obj2)) {\n    return true\n  }\n  const obj1Keys = obj1 ? Object.keys(obj1) : []\n  const obj2Keys = obj2 ? Object.keys(obj2) : []\n  if (obj1Keys.length !== obj2Keys.length) {\n    return false\n  }\n\n  for (let i = 0; i < obj1Keys.length; i++) {\n    const obj1KeyItem = obj1Keys[i]\n    if (!obj2.hasOwnProperty(obj1KeyItem) || !objectIs(obj1[obj1KeyItem], obj2[obj1KeyItem])) {\n      return false\n    }\n  }\n\n  return true\n}\n","export default class SimpleMap {\n  constructor () {\n    this.cache = []\n    this.size = 0\n  }\n\n  set (k, v) {\n    const len = this.cache.length\n    if (!len) {\n      this.cache.push({ k, v })\n      this.size += 1\n      return\n    }\n    for (let i = 0; i < len; i++) {\n      const item = this.cache[i]\n      if (item.k === k) {\n        item.v = v\n        return\n      }\n    }\n    this.cache.push({ k, v })\n    this.size += 1\n  }\n\n  get (k) {\n    const len = this.cache.length\n    if (!len) {\n      return\n    }\n    for (let i = 0; i < len; i++) {\n      const item = this.cache[i]\n      if (item.k === k) {\n        return item.v\n      }\n    }\n  }\n\n  has (k) {\n    const len = this.cache.length\n    if (!len) {\n      return false\n    }\n    for (let i = 0; i < len; i++) {\n      const item = this.cache[i]\n      if (item.k === k) {\n        return true\n      }\n    }\n    return false\n  }\n\n  delete (k) {\n    const len = this.cache.length\n    for (let i = 0; i < len; i++) {\n      const item = this.cache[i]\n      if (item.k === k) {\n        this.cache.splice(i, 1)\n        this.size -= 1\n        return true\n      }\n    }\n    return false\n  }\n\n  clear () {\n    let len = this.cache.length\n    this.size = 0\n    if (!len) {\n      return\n    }\n    while (len) {\n      this.cache.pop()\n      len--\n    }\n  }\n}\n","import shallowEqual from './shallow-equal'\nimport SimpleMap from './simple-map'\n\nfunction addLeadingSlash (path) {\n  return path.charAt(0) === '/' ? path : '/' + path\n}\n\nfunction getCurrentPageUrl () {\n  const pages = getCurrentPages()\n  const currentPage = pages[pages.length - 1]\n  return addLeadingSlash(currentPage.route || currentPage.__route__)\n}\n\nexport default {\n  shallowEqual,\n  getCurrentPageUrl,\n  SimpleMap\n}\n\nexport {\n  shallowEqual,\n  getCurrentPageUrl,\n  SimpleMap\n}\n"],"names":["objectIs","Object","is","x","y","shallowEqual","obj1","obj2","_typeof","obj1Keys","keys","obj2Keys","length","i","obj1KeyItem","hasOwnProperty","SimpleMap","_classCallCheck","cache","size","_createClass","key","value","set","k","v","len","push","item","get","has","_delete","splice","clear","pop","addLeadingSlash","path","charAt","getCurrentPageUrl","pages","getCurrentPages","currentPage","route","__route__"],"mappings":"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"}